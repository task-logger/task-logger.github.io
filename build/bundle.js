var app=function(){"use strict";function t(){}function n(t){return t()}function e(){return Object.create(null)}function r(t){t.forEach(n)}function o(t){return"function"==typeof t}function s(t,n){return t!=t?n==n:t!==n||t&&"object"==typeof t||"function"==typeof t}function c(t,n,e,r){return t[1]&&r?function(t,n){for(const e in n)t[e]=n[e];return t}(e.ctx.slice(),t[1](r(n))):e.ctx}function u(t,n,e,r,o,s,u){const l=function(t,n,e,r){if(t[2]&&r){const o=t[2](r(e));if(void 0===n.dirty)return o;if("object"==typeof o){const t=[],e=Math.max(n.dirty.length,o.length);for(let r=0;r<e;r+=1)t[r]=n.dirty[r]|o[r];return t}return n.dirty|o}return n.dirty}(n,r,o,s);if(l){const o=c(n,e,r,u);t.p(o,l)}}function l(t,n){t.appendChild(n)}function i(t,n,e){t.insertBefore(n,e||null)}function a(t){t.parentNode.removeChild(t)}function f(t){return document.createElement(t)}function d(t){return document.createTextNode(t)}function p(){return d(" ")}function $(t,n,e,r){return t.addEventListener(n,e,r),()=>t.removeEventListener(n,e,r)}function h(t,n,e){null==e?t.removeAttribute(n):t.getAttribute(n)!==e&&t.setAttribute(n,e)}function m(t,n){n=""+n,t.wholeText!==n&&(t.data=n)}function g(t,n){t.value=null==n?"":n}function b(t,n,e){t.classList[e?"add":"remove"](n)}let k;function v(t){k=t}function y(){if(!k)throw new Error("Function called outside component initialization");return k}const x=[],w=[],S=[],T=[],_=Promise.resolve();let C=!1;function N(t){S.push(t)}let A=!1;const E=new Set;function O(){if(!A){A=!0;do{for(let t=0;t<x.length;t+=1){const n=x[t];v(n),I(n.$$)}for(x.length=0;w.length;)w.pop()();for(let t=0;t<S.length;t+=1){const n=S[t];E.has(n)||(E.add(n),n())}S.length=0}while(x.length);for(;T.length;)T.pop()();C=!1,A=!1,E.clear()}}function I(t){if(null!==t.fragment){t.update(),r(t.before_update);const n=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,n),t.after_update.forEach(N)}}const j=new Set;let M;function K(){M={r:0,c:[],p:M}}function L(){M.r||r(M.c),M=M.p}function D(t,n){t&&t.i&&(j.delete(t),t.i(n))}function q(t,n,e,r){if(t&&t.o){if(j.has(t))return;j.add(t),M.c.push(()=>{j.delete(t),r&&(e&&t.d(1),r())}),t.o(n)}}function B(t){t&&t.c()}function J(t,e,s){const{fragment:c,on_mount:u,on_destroy:l,after_update:i}=t.$$;c&&c.m(e,s),N(()=>{const e=u.map(n).filter(o);l?l.push(...e):r(e),t.$$.on_mount=[]}),i.forEach(N)}function z(t,n){const e=t.$$;null!==e.fragment&&(r(e.on_destroy),e.fragment&&e.fragment.d(n),e.on_destroy=e.fragment=null,e.ctx=[])}function F(t,n){-1===t.$$.dirty[0]&&(x.push(t),C||(C=!0,_.then(O)),t.$$.dirty.fill(0)),t.$$.dirty[n/31|0]|=1<<n%31}function H(n,o,s,c,u,l,i=[-1]){const f=k;v(n);const d=o.props||{},p=n.$$={fragment:null,ctx:null,props:l,update:t,not_equal:u,bound:e(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(f?f.$$.context:[]),callbacks:e(),dirty:i};let $=!1;if(p.ctx=s?s(n,d,(t,e,...r)=>{const o=r.length?r[0]:e;return p.ctx&&u(p.ctx[t],p.ctx[t]=o)&&(p.bound[t]&&p.bound[t](o),$&&F(n,t)),e}):[],p.update(),$=!0,r(p.before_update),p.fragment=!!c&&c(p.ctx),o.target){if(o.hydrate){const t=function(t){return Array.from(t.childNodes)}(o.target);p.fragment&&p.fragment.l(t),t.forEach(a)}else p.fragment&&p.fragment.c();o.intro&&D(n.$$.fragment),J(n,o.target,o.anchor),O()}v(f)}class P{$destroy(){z(this,1),this.$destroy=t}$on(t,n){const e=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return e.push(n),()=>{const t=e.indexOf(n);-1!==t&&e.splice(t,1)}}$set(){}}const W=[];function G(n,e=t){let r;const o=[];function c(t){if(s(n,t)&&(n=t,r)){const t=!W.length;for(let t=0;t<o.length;t+=1){const e=o[t];e[1](),W.push(e,n)}if(t){for(let t=0;t<W.length;t+=2)W[t][0](W[t+1]);W.length=0}}}return{set:c,update:function(t){c(t(n))},subscribe:function(s,u=t){const l=[s,u];return o.push(l),1===o.length&&(r=e(c)||t),s(n),()=>{const t=o.indexOf(l);-1!==t&&o.splice(t,1),0===o.length&&(r(),r=null)}}}}const Q=(t,n)=>{localStorage.setItem(t,JSON.stringify(n))};var R,U;function V(n){let e,r,o;return{c(){e=f("button"),e.textContent="Clear"},m(t,s){i(t,e,s),r||(o=$(e,"click",n[0].clear),r=!0)},p:t,i:t,o:t,d(t){t&&a(e),r=!1,o()}}}function X(t){const{Tasks:n}=U;return[n]}!function(t){t.TASKS="TASKS"}(R||(R={})),function(t){t.Tasks=(()=>{const{subscribe:t,update:n,set:e}=G((r=R.TASKS,JSON.parse(localStorage.getItem(r))||{tasks:{}}));var r;return{subscribe:t,clear:()=>{const t={tasks:{}};Q(R.TASKS,t),e(t)},add:t=>{n(n=>{t=t.trim();const{current:e,tasks:r}=n;if(t===e)return n;const o=Date.now(),s=r[e];s&&(s[s.length-1].end=o);const c={current:t,tasks:Object.assign(Object.assign({},n.tasks),{[t]:[...r[t]||[],{start:o}]})};return Q(R.TASKS,c),c})}}})();t.Clock=(()=>{const{subscribe:t}={subscribe:G(Date.now(),t=>{const n=window.setInterval(()=>{t(Date.now())},1e3);return()=>window.clearInterval(n)}).subscribe};return{subscribe:t}})()}(U||(U={}));class Y extends P{constructor(t){super(),H(this,t,X,V,s,{})}}function Z(t){let n,e,o,s,c,u;return o=new Y({}),{c(){n=f("input"),e=p(),B(o.$$.fragment),h(n,"type","text"),h(n,"placeholder","Start task"),h(n,"class","svelte-12qggp")},m(r,l){i(r,n,l),g(n,t[0]),i(r,e,l),J(o,r,l),s=!0,c||(u=[$(n,"input",t[2]),$(n,"keypress",t[1])],c=!0)},p(t,[e]){1&e&&n.value!==t[0]&&g(n,t[0])},i(t){s||(D(o.$$.fragment,t),s=!0)},o(t){q(o.$$.fragment,t),s=!1},d(t){t&&a(n),t&&a(e),z(o,t),c=!1,r(u)}}}function tt(t,n,e){let r="";const{Tasks:o}=U;return[r,function(t){"Enter"===t.key&&(o.add(r),e(0,r=""))},function(){r=this.value,e(0,r)}]}class nt extends P{constructor(t){super(),H(this,t,tt,Z,s,{})}}function et(t){let n,e;const r=t[1].default,o=function(t,n,e,r){if(t){const o=c(t,n,e,r);return t[0](o)}}(r,t,t[0],null);return{c(){n=f("div"),o&&o.c(),h(n,"class","svelte-crvmuo")},m(t,r){i(t,n,r),o&&o.m(n,null),e=!0},p(t,[n]){o&&o.p&&1&n&&u(o,r,t,t[0],n,null,null)},i(t){e||(D(o,t),e=!0)},o(t){q(o,t),e=!1},d(t){t&&a(n),o&&o.d(t)}}}function rt(t,n,e){let{$$slots:r={},$$scope:o}=n;return t.$set=t=>{"$$scope"in t&&e(0,o=t.$$scope)},[o,r]}class ot extends P{constructor(t){super(),H(this,t,rt,et,s,{})}}const st=t=>(t%100).toString().padStart(2,"0"),ct=t=>t.reduce((t,n)=>t+=(({start:t,end:n})=>n?n-t:Date.now()-t)(n),0),ut=t=>(t=>{t/=1e3;const n=Math.floor(t/3600);t%=3600;const e=Math.floor(t/60),r=Math.floor(t%60);return`${n>0?st(n)+":":""}${e>0?st(e)+":":""}${st(r)}`})(ct(t));function lt(n){let e,r,o,s,c,u;return{c(){e=f("tr"),r=f("td"),o=d(n[0]),s=p(),c=f("td"),u=d(n[2]),h(e,"class","svelte-17chmct"),b(e,"current",n[1])},m(t,n){i(t,e,n),l(e,r),l(r,o),l(e,s),l(e,c),l(c,u)},p(t,[n]){1&n&&m(o,t[0]),4&n&&m(u,t[2]),2&n&&b(e,"current",t[1])},i:t,o:t,d(t){t&&a(e)}}}let it;function at(t,n,e){let{works:r}=n,{taskName:o}=n,{isCurrent:s}=n,c=ut(r),u=0;const l=()=>{clearInterval(it),it=u};var i;return u=s&&setInterval(()=>{e(2,c=ut(r)),console.log(c),it&&it!==u&&l()},1e3),it=u,i=()=>{s&&it!==u&&(l(),u=s&&setInterval(()=>{e(2,c=ut(r)),console.log(c),it&&it!==u&&l()},1e3))},y().$$.after_update.push(i),t.$set=t=>{"works"in t&&e(3,r=t.works),"taskName"in t&&e(0,o=t.taskName),"isCurrent"in t&&e(1,s=t.isCurrent)},[o,s,c,r]}class ft extends P{constructor(t){super(),H(this,t,at,lt,s,{works:3,taskName:0,isCurrent:1})}}function dt(t,n,e){const r=t.slice();return r[5]=n[e],r}function pt(n){let e;return{c(){e=f("div"),e.textContent="There is no available task!"},m(t,n){i(t,e,n)},p:t,i:t,o:t,d(t){t&&a(e)}}}function $t(t){let n,e,r,o,s,c=t[1],u=[];for(let n=0;n<c.length;n+=1)u[n]=ht(dt(t,c,n));const d=t=>q(u[t],1,1,()=>{u[t]=null});return{c(){n=f("table"),e=f("thead"),e.innerHTML='<tr><th class="svelte-15r6rll">Task name</th> \n\t\t\t\t<th class="svelte-15r6rll">Worked Time</th></tr>',r=p(),o=f("tbody");for(let t=0;t<u.length;t+=1)u[t].c();h(n,"class","tasks-container svelte-15r6rll")},m(t,c){i(t,n,c),l(n,e),l(n,r),l(n,o);for(let t=0;t<u.length;t+=1)u[t].m(o,null);s=!0},p(t,n){if(7&n){let e;for(c=t[1],e=0;e<c.length;e+=1){const r=dt(t,c,e);u[e]?(u[e].p(r,n),D(u[e],1)):(u[e]=ht(r),u[e].c(),D(u[e],1),u[e].m(o,null))}for(K(),e=c.length;e<u.length;e+=1)d(e);L()}},i(t){if(!s){for(let t=0;t<c.length;t+=1)D(u[t]);s=!0}},o(t){u=u.filter(Boolean);for(let t=0;t<u.length;t+=1)q(u[t]);s=!1},d(t){t&&a(n),function(t,n){for(let e=0;e<t.length;e+=1)t[e]&&t[e].d(n)}(u,t)}}}function ht(t){let n,e;return n=new ft({props:{isCurrent:t[5]===t[2],works:t[0].tasks[t[5]],taskName:t[5]}}),{c(){B(n.$$.fragment)},m(t,r){J(n,t,r),e=!0},p(t,e){const r={};6&e&&(r.isCurrent=t[5]===t[2]),3&e&&(r.works=t[0].tasks[t[5]]),2&e&&(r.taskName=t[5]),n.$set(r)},i(t){e||(D(n.$$.fragment,t),e=!0)},o(t){q(n.$$.fragment,t),e=!1},d(t){z(n,t)}}}function mt(t){let n,e,r,o;const s=[$t,pt],c=[];function u(t,n){return t[0]&&t[1].length>0?0:1}return n=u(t),e=c[n]=s[n](t),{c(){e.c(),r=d("")},m(t,e){c[n].m(t,e),i(t,r,e),o=!0},p(t,[o]){let l=n;n=u(t),n===l?c[n].p(t,o):(K(),q(c[l],1,1,()=>{c[l]=null}),L(),e=c[n],e||(e=c[n]=s[n](t),e.c()),D(e,1),e.m(r.parentNode,r))},i(t){o||(D(e),o=!0)},o(t){q(e),o=!1},d(t){c[n].d(t),t&&a(r)}}}function gt(t,n,e){const{Tasks:r}=U;let o,s,c;const u=r.subscribe(t=>{e(0,o=t),e(1,s=Object.keys(o.tasks)),e(2,c=o.current)});var l;return l=()=>{u()},y().$$.on_destroy.push(l),[o,s,c]}class bt extends P{constructor(t){super(),H(this,t,gt,mt,s,{})}}function kt(t){let n,e,r,o,s,c,u,l;return r=new nt({}),u=new bt({}),{c(){n=f("h2"),n.textContent="Task Logger",e=p(),B(r.$$.fragment),o=p(),s=f("hr"),c=p(),B(u.$$.fragment),h(n,"class","svelte-l4ahfq")},m(t,a){i(t,n,a),i(t,e,a),J(r,t,a),i(t,o,a),i(t,s,a),i(t,c,a),J(u,t,a),l=!0},i(t){l||(D(r.$$.fragment,t),D(u.$$.fragment,t),l=!0)},o(t){q(r.$$.fragment,t),q(u.$$.fragment,t),l=!1},d(t){t&&a(n),t&&a(e),z(r,t),t&&a(o),t&&a(s),t&&a(c),z(u,t)}}}function vt(t){let n,e;return n=new ot({props:{$$slots:{default:[kt]},$$scope:{ctx:t}}}),{c(){B(n.$$.fragment)},m(t,r){J(n,t,r),e=!0},p(t,[e]){const r={};1&e&&(r.$$scope={dirty:e,ctx:t}),n.$set(r)},i(t){e||(D(n.$$.fragment,t),e=!0)},o(t){q(n.$$.fragment,t),e=!1},d(t){z(n,t)}}}return new class extends P{constructor(t){super(),H(this,t,null,vt,s,{})}}({target:document.body,props:{name:"world"}})}();
//# sourceMappingURL=bundle.js.map
