var app=function(){"use strict";function t(){}function n(t){return t()}function e(){return Object.create(null)}function r(t){t.forEach(n)}function o(t){return"function"==typeof t}function s(t,n){return t!=t?n==n:t!==n||t&&"object"==typeof t||"function"==typeof t}function c(n,...e){if(null==n)return t;const r=n.subscribe(...e);return r.unsubscribe?()=>r.unsubscribe():r}function u(t,n,e,r){return t[1]&&r?function(t,n){for(const e in n)t[e]=n[e];return t}(e.ctx.slice(),t[1](r(n))):e.ctx}function l(t,n,e,r,o,s,c){const l=function(t,n,e,r){if(t[2]&&r){const o=t[2](r(e));if(void 0===n.dirty)return o;if("object"==typeof o){const t=[],e=Math.max(n.dirty.length,o.length);for(let r=0;r<e;r+=1)t[r]=n.dirty[r]|o[r];return t}return n.dirty|o}return n.dirty}(n,r,o,s);if(l){const o=u(n,e,r,c);t.p(o,l)}}function a(t,n){t.appendChild(n)}function i(t,n,e){t.insertBefore(n,e||null)}function f(t){t.parentNode.removeChild(t)}function d(t){return document.createElement(t)}function p(t){return document.createTextNode(t)}function $(){return p(" ")}function h(t,n,e,r){return t.addEventListener(n,e,r),()=>t.removeEventListener(n,e,r)}function m(t,n,e){null==e?t.removeAttribute(n):t.getAttribute(n)!==e&&t.setAttribute(n,e)}function g(t,n){n=""+n,t.wholeText!==n&&(t.data=n)}function b(t,n){t.value=null==n?"":n}function k(t,n,e){t.classList[e?"add":"remove"](n)}let y;function v(t){y=t}function x(){if(!y)throw new Error("Function called outside component initialization");return y}const w=[],S=[],T=[],_=[],N=Promise.resolve();let A=!1;function E(t){T.push(t)}let O=!1;const j=new Set;function C(){if(!O){O=!0;do{for(let t=0;t<w.length;t+=1){const n=w[t];v(n),M(n.$$)}for(w.length=0;S.length;)S.pop()();for(let t=0;t<T.length;t+=1){const n=T[t];j.has(n)||(j.add(n),n())}T.length=0}while(w.length);for(;_.length;)_.pop()();A=!1,O=!1,j.clear()}}function M(t){if(null!==t.fragment){t.update(),r(t.before_update);const n=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,n),t.after_update.forEach(E)}}const I=new Set;let K;function D(){K={r:0,c:[],p:K}}function L(){K.r||r(K.c),K=K.p}function q(t,n){t&&t.i&&(I.delete(t),t.i(n))}function B(t,n,e,r){if(t&&t.o){if(I.has(t))return;I.add(t),K.c.push(()=>{I.delete(t),r&&(e&&t.d(1),r())}),t.o(n)}}function F(t){t&&t.c()}function J(t,e,s){const{fragment:c,on_mount:u,on_destroy:l,after_update:a}=t.$$;c&&c.m(e,s),E(()=>{const e=u.map(n).filter(o);l?l.push(...e):r(e),t.$$.on_mount=[]}),a.forEach(E)}function z(t,n){const e=t.$$;null!==e.fragment&&(r(e.on_destroy),e.fragment&&e.fragment.d(n),e.on_destroy=e.fragment=null,e.ctx=[])}function G(t,n){-1===t.$$.dirty[0]&&(w.push(t),A||(A=!0,N.then(C)),t.$$.dirty.fill(0)),t.$$.dirty[n/31|0]|=1<<n%31}function H(n,o,s,c,u,l,a=[-1]){const i=y;v(n);const d=o.props||{},p=n.$$={fragment:null,ctx:null,props:l,update:t,not_equal:u,bound:e(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(i?i.$$.context:[]),callbacks:e(),dirty:a};let $=!1;if(p.ctx=s?s(n,d,(t,e,...r)=>{const o=r.length?r[0]:e;return p.ctx&&u(p.ctx[t],p.ctx[t]=o)&&(p.bound[t]&&p.bound[t](o),$&&G(n,t)),e}):[],p.update(),$=!0,r(p.before_update),p.fragment=!!c&&c(p.ctx),o.target){if(o.hydrate){const t=function(t){return Array.from(t.childNodes)}(o.target);p.fragment&&p.fragment.l(t),t.forEach(f)}else p.fragment&&p.fragment.c();o.intro&&q(n.$$.fragment),J(n,o.target,o.anchor),C()}v(i)}class P{$destroy(){z(this,1),this.$destroy=t}$on(t,n){const e=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return e.push(n),()=>{const t=e.indexOf(n);-1!==t&&e.splice(t,1)}}$set(){}}const W=[];function Q(n,e=t){let r;const o=[];function c(t){if(s(n,t)&&(n=t,r)){const t=!W.length;for(let t=0;t<o.length;t+=1){const e=o[t];e[1](),W.push(e,n)}if(t){for(let t=0;t<W.length;t+=2)W[t][0](W[t+1]);W.length=0}}}return{set:c,update:function(t){c(t(n))},subscribe:function(s,u=t){const l=[s,u];return o.push(l),1===o.length&&(r=e(c)||t),s(n),()=>{const t=o.indexOf(l);-1!==t&&o.splice(t,1),0===o.length&&(r(),r=null)}}}}function R(n,e,s){const u=!Array.isArray(n),l=u?[n]:n,a=e.length<2;return{subscribe:Q(s,n=>{let s=!1;const i=[];let f=0,d=t;const p=()=>{if(f)return;d();const r=e(u?i[0]:i,n);a?n(r):d=o(r)?r:t},$=l.map((t,n)=>c(t,t=>{i[n]=t,f&=~(1<<n),s&&p()},()=>{f|=1<<n}));return s=!0,p(),function(){r($),d()}}).subscribe}}const U=(t,n)=>{localStorage.setItem(t,JSON.stringify(n))};var V,X;function Y(n){let e,r,o;return{c(){e=d("button"),e.textContent="Clear"},m(t,s){i(t,e,s),r||(o=h(e,"click",n[0].clear),r=!0)},p:t,i:t,o:t,d(t){t&&f(e),r=!1,o()}}}function Z(t){const{Tasks:n}=X;return[n]}!function(t){t.TASKS="TASKS"}(V||(V={})),function(t){t.Tasks=(()=>{const{subscribe:t,update:n,set:e}=Q((r=V.TASKS,JSON.parse(localStorage.getItem(r))||{tasks:{}}));var r;return{subscribe:t,clear:()=>{const t={tasks:{}};U(V.TASKS,t),e(t)},add:t=>{n(n=>{t=t.trim();const{current:e,tasks:r}=n;if(t===e)return n;const o=Date.now(),s=r[e];s&&(s[s.length-1].end=o);const c={current:t,tasks:Object.assign(Object.assign({},n.tasks),{[t]:[...r[t]||[],{start:o}]})};return U(V.TASKS,c),c})}}})(),t.currentTask=R(t.Tasks,t=>t.current)}(X||(X={}));class tt extends P{constructor(t){super(),H(this,t,Z,Y,s,{})}}function nt(t){let n,e,o,s,c,u;return o=new tt({}),{c(){n=d("input"),e=$(),F(o.$$.fragment),m(n,"type","text"),m(n,"placeholder","Start task"),m(n,"class","svelte-12qggp")},m(r,l){i(r,n,l),b(n,t[0]),i(r,e,l),J(o,r,l),s=!0,c||(u=[h(n,"input",t[2]),h(n,"keypress",t[1])],c=!0)},p(t,[e]){1&e&&n.value!==t[0]&&b(n,t[0])},i(t){s||(q(o.$$.fragment,t),s=!0)},o(t){B(o.$$.fragment,t),s=!1},d(t){t&&f(n),t&&f(e),z(o,t),c=!1,r(u)}}}function et(t,n,e){let r="";const{Tasks:o}=X;return[r,function(t){"Enter"===t.key&&(o.add(r),e(0,r=""))},function(){r=this.value,e(0,r)}]}class rt extends P{constructor(t){super(),H(this,t,et,nt,s,{})}}function ot(t){let n,e;const r=t[1].default,o=function(t,n,e,r){if(t){const o=u(t,n,e,r);return t[0](o)}}(r,t,t[0],null);return{c(){n=d("div"),o&&o.c(),m(n,"class","svelte-crvmuo")},m(t,r){i(t,n,r),o&&o.m(n,null),e=!0},p(t,[n]){o&&o.p&&1&n&&l(o,r,t,t[0],n,null,null)},i(t){e||(q(o,t),e=!0)},o(t){B(o,t),e=!1},d(t){t&&f(n),o&&o.d(t)}}}function st(t,n,e){let{$$slots:r={},$$scope:o}=n;return t.$set=t=>{"$$scope"in t&&e(0,o=t.$$scope)},[o,r]}class ct extends P{constructor(t){super(),H(this,t,st,ot,s,{})}}const ut=new Intl.DateTimeFormat("en-GB"),lt=t=>(t%100).toString().padStart(2,"0"),at=t=>t.reduce((t,n)=>t+=(({start:t,end:n})=>n?n-t:Date.now()-t)(n),0),it=t=>(t=>{t/=1e3;const n=Math.floor(t/3600);t%=3600;const e=Math.floor(t/60),r=Math.floor(t%60);return`${lt(n)}:${lt(e)}:${lt(r)}`})(at(t));function ft(n){let e,r,o,s,c,u;return{c(){e=d("tr"),r=d("td"),o=p(n[0]),s=$(),c=d("td"),u=p(n[1]),m(e,"class","svelte-17chmct"),k(e,"current",n[2]===n[0])},m(t,n){i(t,e,n),a(e,r),a(r,o),a(e,s),a(e,c),a(c,u)},p(t,[n]){1&n&&g(o,t[0]),2&n&&g(u,t[1]),5&n&&k(e,"current",t[2]===t[0])},i:t,o:t,d(t){t&&f(e)}}}function dt(t,n,e){let r;const{currentTask:o}=X;var s,u;s=o,u=t=>e(2,r=t),t.$$.on_destroy.push(c(s,u));let{works:l}=n,{taskName:a}=n,i=it(l),f=0;const d=()=>{f=r===a&&setInterval(()=>{e(1,i=it(l))},1e3)};var p;return d(),p=()=>{r!==a?(clearInterval(f),f=0):0===f&&d()},x().$$.after_update.push(p),t.$set=t=>{"works"in t&&e(4,l=t.works),"taskName"in t&&e(0,a=t.taskName)},[a,i,r,o,l]}class pt extends P{constructor(t){super(),H(this,t,dt,ft,s,{works:4,taskName:0})}}function $t(t,n,e){const r=t.slice();return r[5]=n[e],r}function ht(n){let e;return{c(){e=d("div"),e.textContent="There is no available task!"},m(t,n){i(t,e,n)},p:t,i:t,o:t,d(t){t&&f(e)}}}function mt(t){let n,e,r,o,s,c=t[1],u=[];for(let n=0;n<c.length;n+=1)u[n]=gt($t(t,c,n));const l=t=>B(u[t],1,1,()=>{u[t]=null});return{c(){n=d("table"),e=d("thead"),e.innerHTML='<tr><th class="svelte-15r6rll">Task name</th> \n\t\t\t\t<th class="svelte-15r6rll">Worked Time (hh:mm:ss)</th></tr>',r=$(),o=d("tbody");for(let t=0;t<u.length;t+=1)u[t].c();m(n,"class","tasks-container svelte-15r6rll")},m(t,c){i(t,n,c),a(n,e),a(n,r),a(n,o);for(let t=0;t<u.length;t+=1)u[t].m(o,null);s=!0},p(t,n){if(3&n){let e;for(c=t[1],e=0;e<c.length;e+=1){const r=$t(t,c,e);u[e]?(u[e].p(r,n),q(u[e],1)):(u[e]=gt(r),u[e].c(),q(u[e],1),u[e].m(o,null))}for(D(),e=c.length;e<u.length;e+=1)l(e);L()}},i(t){if(!s){for(let t=0;t<c.length;t+=1)q(u[t]);s=!0}},o(t){u=u.filter(Boolean);for(let t=0;t<u.length;t+=1)B(u[t]);s=!1},d(t){t&&f(n),function(t,n){for(let e=0;e<t.length;e+=1)t[e]&&t[e].d(n)}(u,t)}}}function gt(t){let n,e;return n=new pt({props:{works:t[0].tasks[t[5]],taskName:t[5]}}),{c(){F(n.$$.fragment)},m(t,r){J(n,t,r),e=!0},p(t,e){const r={};3&e&&(r.works=t[0].tasks[t[5]]),2&e&&(r.taskName=t[5]),n.$set(r)},i(t){e||(q(n.$$.fragment,t),e=!0)},o(t){B(n.$$.fragment,t),e=!1},d(t){z(n,t)}}}function bt(t){let n,e,r,o;const s=[mt,ht],c=[];function u(t,n){return t[0]&&t[1].length>0?0:1}return n=u(t),e=c[n]=s[n](t),{c(){e.c(),r=p("")},m(t,e){c[n].m(t,e),i(t,r,e),o=!0},p(t,[o]){let l=n;n=u(t),n===l?c[n].p(t,o):(D(),B(c[l],1,1,()=>{c[l]=null}),L(),e=c[n],e||(e=c[n]=s[n](t),e.c()),q(e,1),e.m(r.parentNode,r))},i(t){o||(q(e),o=!0)},o(t){B(e),o=!1},d(t){c[n].d(t),t&&f(r)}}}function kt(t,n,e){const{Tasks:r}=X;let o,s,c;const u=r.subscribe(t=>{e(0,o=t),e(1,s=Object.keys(o.tasks)),c=o.current});var l;return l=()=>{u()},x().$$.on_destroy.push(l),[o,s]}class yt extends P{constructor(t){super(),H(this,t,kt,bt,s,{})}}function vt(n){let e,r,o,s,c,u,l,a;return o=new rt({}),l=new yt({}),{c(){var t;e=d("h2"),e.textContent=""+(t=new Date,ut.format(t)),r=$(),F(o.$$.fragment),s=$(),c=d("hr"),u=$(),F(l.$$.fragment),m(e,"class","svelte-l4ahfq")},m(t,n){i(t,e,n),i(t,r,n),J(o,t,n),i(t,s,n),i(t,c,n),i(t,u,n),J(l,t,n),a=!0},p:t,i(t){a||(q(o.$$.fragment,t),q(l.$$.fragment,t),a=!0)},o(t){B(o.$$.fragment,t),B(l.$$.fragment,t),a=!1},d(t){t&&f(e),t&&f(r),z(o,t),t&&f(s),t&&f(c),t&&f(u),z(l,t)}}}function xt(t){let n,e;return n=new ct({props:{$$slots:{default:[vt]},$$scope:{ctx:t}}}),{c(){F(n.$$.fragment)},m(t,r){J(n,t,r),e=!0},p(t,[e]){const r={};1&e&&(r.$$scope={dirty:e,ctx:t}),n.$set(r)},i(t){e||(q(n.$$.fragment,t),e=!0)},o(t){B(n.$$.fragment,t),e=!1},d(t){z(n,t)}}}return new class extends P{constructor(t){super(),H(this,t,null,xt,s,{})}}({target:document.body})}();
//# sourceMappingURL=bundle.js.map
